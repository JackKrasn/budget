# –ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã –∏ —Ä–µ–∑–µ—Ä–≤—ã: —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –ø—Ä–∏ —Ç—Ä–∞—Ç–∞—Ö —Å –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∫–∞—Ä—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –¢—Ä–∞—Ç–∏—Ç—å —Å –∫—Ä–µ–¥–∏—Ç–∫–∏ –≤ –≥—Ä–µ–π—Å-–ø–µ—Ä–∏–æ–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞—Ç—å" –¥–µ–Ω—å–≥–∏ –≤ —Ñ–æ–Ω–¥–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
- –ü—Ä–∏ –ø–æ–≥–∞—à–µ–Ω–∏–∏ –∫—Ä–µ–¥–∏—Ç–∫–∏ ‚Äî –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ä–µ–∑–µ—Ä–≤—ã –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

---

## –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ

### 1. –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–æ–Ω–¥–∞

**–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ:** "–ü—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π —Å—á—ë—Ç" (select, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```typescript
interface CreateFundRequest {
  name: string;
  isVirtual: boolean;
  icon?: string;
  color?: string;
  linkedAccountId?: string; // UUID —Å—á—ë—Ç–∞ –∏–ª–∏ null
}

interface UpdateFundRequest {
  name?: string;
  isVirtual?: boolean;
  icon?: string;
  color?: string;
  status?: string;
  linkedAccountId?: string;
}
```

**UI:**
- Select —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤ (GET `/api/v1/accounts`)
- –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–£–∫–∞–∂–∏—Ç–µ —Å—á—ë—Ç, –≥–¥–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–µ–Ω—å–≥–∏ —Ñ–æ–Ω–¥–∞. –ë–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ —Ñ–æ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —É—á—ë—Ç–∞."
- –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º

---

### 2. –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—á—ë—Ç–∞

**–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è:**

```typescript
interface CreateAccountRequest {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  isCredit?: boolean;        // –≠—Ç–æ –∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞?
  linkedFundId?: string;     // –§–æ–Ω–¥ –¥–ª—è –∞–≤—Ç–æ-—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫—Ä–µ–¥–∏—Ç–æ–∫)
}

interface UpdateAccountRequest {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  isCredit?: boolean;
  linkedFundId?: string;
}
```

**UI:**
- –ß–µ–∫–±–æ–∫—Å "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞" (`isCredit`)
- Select "–§–æ–Ω–¥ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–æ–≤" (`linkedFundId`) ‚Äî **–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `isCredit: true`**
- –í select –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ–æ–Ω–¥—ã —Å `linkedAccountId` (—É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π —Å—á—ë—Ç)
- –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–ü—Ä–∏ –∫–∞–∂–¥–æ–π —Ç—Ä–∞—Ç–µ —Å —ç—Ç–æ–π –∫–∞—Ä—Ç—ã –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è —Ä–µ–∑–µ—Ä–≤ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ñ–æ–Ω–¥–µ"

**–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ:**
- `linkedFundId` –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `isCredit: true`
- –ï—Å–ª–∏ –∫–∞—Ä—Ç–∞ –∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∏ –Ω–µ—Ç `linkedFundId` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–±—ç–∫ –≤–µ—Ä–Ω—ë—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞—Å—Ö–æ–¥–∞)

---

### 3. –°–ø–∏—Å–æ–∫ —Å—á–µ—Ç–æ–≤

**–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- –ë–µ–π–¥–∂ "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è" –¥–ª—è —Å—á–µ—Ç–æ–≤ —Å `isCredit: true`
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Ñ–æ–Ω–¥–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å `linkedFundId`)

**–ü—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üí≥ –ê–ª—å—Ñ–∞ –ö—Ä–µ–¥–∏—Ç–∫–∞      [–ö—Ä–µ–¥–∏—Ç–Ω–∞—è] ‚îÇ
‚îÇ –ë–∞–ª–∞–Ω—Å: -15 000 ‚ÇΩ                   ‚îÇ
‚îÇ –†–µ–∑–µ—Ä–≤: –õ–∏–∫–≤–∏–¥–Ω—ã–π —Ä–µ–∑–µ—Ä–≤            ‚îÇ
‚îÇ Pending —Ä–µ–∑–µ—Ä–≤–æ–≤: 15 000 ‚ÇΩ          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 4. –°–ø–∏—Å–æ–∫ —Ñ–æ–Ω–¥–æ–≤

**–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å—á—ë—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å `linkedAccountId`)
- –°—É–º–º–∞ pending —Ä–µ–∑–µ—Ä–≤–æ–≤

**API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–æ–≤ —Ñ–æ–Ω–¥–∞:**
```
GET /api/v1/funds/{id}/reserves
```

**–ü—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üè¶ –õ–∏–∫–≤–∏–¥–Ω—ã–π —Ä–µ–∑–µ—Ä–≤                 ‚îÇ
‚îÇ –ë–∞–ª–∞–Ω—Å: 85 000 ‚ÇΩ                    ‚îÇ
‚îÇ –°—á—ë—Ç: Freedom Finance               ‚îÇ
‚îÇ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –≤ —Ä–µ–∑–µ—Ä–≤–∞—Ö: 15 000 ‚ÇΩ  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 5. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∫–∞—Ä—Ç:**

–ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω —Å—á—ë—Ç —Å `isCredit: true`:
1. –†–∞—Å—Ö–æ–¥ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω–æ
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ä–µ–∑–µ—Ä–≤ –≤ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–º —Ñ–æ–Ω–¥–µ
3. –ë–∞–ª–∞–Ω—Å –∫—Ä–µ–¥–∏—Ç–∫–∏ —É—Ö–æ–¥–∏—Ç –≤ –º–∏–Ω—É—Å (–¥–æ–ª–≥)
4. –ë–∞–ª–∞–Ω—Å —Ñ–æ–Ω–¥–∞ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è

**–û—à–∏–±–∫–∞:** –ï—Å–ª–∏ —É –∫—Ä–µ–¥–∏—Ç–∫–∏ –Ω–µ—Ç `linkedFundId` ‚Äî –±—ç–∫ –≤–µ—Ä–Ω—ë—Ç –æ—à–∏–±–∫—É 400:
```json
{
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Credit card must have linked fund for auto-reserving"
  }
}
```

**UI:** –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–∞—Ä—Ç—É.

---

### 6. –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–†–µ–∑–µ—Ä–≤—ã" (–Ω–æ–≤–∞—è)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –û—Ç–¥–µ–ª—å–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å—á—ë—Ç–∞ (–¥–ª—è –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∫–∞—Ä—Ç)

**API:**
```
GET /api/v1/accounts/{accountId}/reserves
```

**Response:**
```typescript
interface ReservesResponse {
  data: Reserve[];
  totalPending: number;
}

interface Reserve {
  id: string;
  fundId: string;
  fundName: string;
  expenseId: string;
  expenseDate: string;
  expenseDescription: string;
  amount: number;
  currency: string;
  status: 'pending' | 'used' | 'cancelled';
  createdAt: string;
}
```

**UI:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –†–µ–∑–µ—Ä–≤—ã –¥–ª—è –ê–ª—å—Ñ–∞ –ö—Ä–µ–¥–∏—Ç–∫–∞                          ‚îÇ
‚îÇ –í—Å–µ–≥–æ pending: 15 000 ‚ÇΩ                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚òê 29.01 –ü—Ä–æ–¥—É–∫—Ç—ã          5 000 ‚ÇΩ  –õ–∏–∫–≤. —Ä–µ–∑–µ—Ä–≤   ‚îÇ
‚îÇ ‚òê 28.01 –¢–∞–∫—Å–∏             1 500 ‚ÇΩ  –õ–∏–∫–≤. —Ä–µ–∑–µ—Ä–≤   ‚îÇ
‚îÇ ‚òê 27.01 –†–µ—Å—Ç–æ—Ä–∞–Ω          8 500 ‚ÇΩ  –õ–∏–∫–≤. —Ä–µ–∑–µ—Ä–≤   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [–ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤—ã]                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 7. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–æ–≤ (–ø–æ–≥–∞—à–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–∫–∏)

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–≥–∞—Å–∏–ª –∫—Ä–µ–¥–∏—Ç–∫—É (—Å–¥–µ–ª–∞–ª –ø–µ—Ä–µ–≤–æ–¥ —Å –¥–µ–±–µ—Ç–æ–≤–æ–π –∫–∞—Ä—Ç—ã)
2. –ó–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–∑–µ—Ä–≤–æ–≤
3. –í—ã–±–∏—Ä–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤—ã –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
4. –£–∫–∞–∑—ã–≤–∞–µ—Ç —Å—á—ë—Ç, –∫—É–¥–∞ –≤–µ—Ä–Ω—É—Ç—å –¥–µ–Ω—å–≥–∏ (—Ç–æ—Ç, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–≥–∞—à–∞–ª)
5. –ù–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–∏–º–µ–Ω–∏—Ç—å"

**API:**
```
POST /api/v1/accounts/{creditCardId}/apply-reserves
```

**Request:**
```typescript
interface ApplyReservesRequest {
  reserveIds: string[];       // ID —Ä–µ–∑–µ—Ä–≤–æ–≤ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
  sourceAccountId: string;    // –ö—É–¥–∞ –≤–µ—Ä–Ω—É—Ç—å –¥–µ–Ω—å–≥–∏ (–¥–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞)
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –†–µ–∑–µ—Ä–≤—ã –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ `used`
2. –° linked_account —Ñ–æ–Ω–¥–∞ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥–µ–Ω—å–≥–∏
3. –ù–∞ sourceAccountId –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è –¥–µ–Ω—å–≥–∏ (–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è)

**UI –ø–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞:**
- –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ "–†–µ–∑–µ—Ä–≤—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, –Ω–∞ —Å—á—ë—Ç X –∑–∞—á–∏—Å–ª–µ–Ω–æ Y ‚ÇΩ"
- –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–µ–∑–µ—Ä–≤–æ–≤
- –û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å sourceAccount

---

## API Reference

### –§–æ–Ω–¥—ã

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/v1/funds` | –°–ø–∏—Å–æ–∫ —Ñ–æ–Ω–¥–æ–≤ |
| POST | `/api/v1/funds` | –°–æ–∑–¥–∞—Ç—å —Ñ–æ–Ω–¥ |
| GET | `/api/v1/funds/{id}` | –ü–æ–ª—É—á–∏—Ç—å —Ñ–æ–Ω–¥ |
| PATCH | `/api/v1/funds/{id}` | –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ–Ω–¥ |
| GET | `/api/v1/funds/{id}/reserves` | –†–µ–∑–µ—Ä–≤—ã —Ñ–æ–Ω–¥–∞ |

### –°—á–µ—Ç–∞

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/v1/accounts` | –°–ø–∏—Å–æ–∫ —Å—á–µ—Ç–æ–≤ |
| POST | `/api/v1/accounts` | –°–æ–∑–¥–∞—Ç—å —Å—á—ë—Ç |
| GET | `/api/v1/accounts/{id}` | –ü–æ–ª—É—á–∏—Ç—å —Å—á—ë—Ç |
| PATCH | `/api/v1/accounts/{id}` | –û–±–Ω–æ–≤–∏—Ç—å —Å—á—ë—Ç |
| GET | `/api/v1/accounts/{id}/reserves` | Pending —Ä–µ–∑–µ—Ä–≤—ã –¥–ª—è –∫—Ä–µ–¥–∏—Ç–∫–∏ |
| POST | `/api/v1/accounts/{id}/apply-reserves` | –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–µ–∑–µ—Ä–≤—ã |

### –†–∞—Å—Ö–æ–¥—ã

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/api/v1/expenses` | –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å—Ö–æ–¥ (–∞–≤—Ç–æ-—Ä–µ–∑–µ—Ä–≤ –¥–ª—è –∫—Ä–µ–¥–∏—Ç–æ–∫) |
| PATCH | `/api/v1/expenses/{id}` | –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å fundAllocations) |
| DELETE | `/api/v1/expenses/{id}` | –£–¥–∞–ª–∏—Ç—å —Ä–∞—Å—Ö–æ–¥ (–æ—Ç–∫–∞—Ç —Ä–µ–∑–µ—Ä–≤–æ–≤) |

---

## –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### Account (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π)

```typescript
interface Account {
  id: string;
  name: string;
  accountTypeId: string;
  typeCode: string;
  typeName: string;
  currency: string;
  bankName?: string;
  icon?: string;
  color?: string;
  currentBalance: number;
  isArchived: boolean;
  isCredit: boolean;              // NEW: —ç—Ç–æ –∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞
  linkedFundId?: string;          // NEW: —Ñ–æ–Ω–¥ –¥–ª—è –∞–≤—Ç–æ-—Ä–µ–∑–µ—Ä–≤–æ–≤
  linkedFundName?: string;        // NEW: –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–æ–Ω–¥–∞ (–≤ GetAccountWithLinkedFund)
  createdAt: string;
  updatedAt: string;
}
```

### Fund (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π)

```typescript
interface Fund {
  id: string;
  name: string;
  icon?: string;
  color?: string;
  isVirtual: boolean;
  status: string;
  linkedAccountId?: string;       // NEW: —Å—á—ë—Ç –≥–¥–µ –ª–µ–∂–∞—Ç –¥–µ–Ω—å–≥–∏
  linkedAccountName?: string;     // NEW: –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—á—ë—Ç–∞ (–≤ GetFundWithLinkedAccount)
  createdAt: string;
  updatedAt: string;
}
```

### Expense (—Å —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º)

```typescript
interface Expense {
  id: string;
  categoryId: string;
  amount: number;
  currency: string;
  date: string;
  description?: string;
  accountId?: string;
  // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
  fundAllocations?: FundAllocation[];  // –§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ —Ñ–æ–Ω–¥–æ–≤
}

interface FundAllocation {
  id: string;
  fundId: string;
  fundName: string;
  amount: number;
  currency: string;
}
```

---

## –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã

1. –°–æ–∑–¥–∞—Ç—å —Ñ–æ–Ω–¥ "–õ–∏–∫–≤–∏–¥–Ω—ã–π —Ä–µ–∑–µ—Ä–≤" —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Å—á—ë—Ç—É "Freedom Finance"
2. –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—á—ë—Ç–∞ "–ê–ª—å—Ñ–∞ –ö—Ä–µ–¥–∏—Ç–∫–∞"
3. –í–∫–ª—é—á–∏—Ç—å "–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞"
4. –í—ã–±—Ä–∞—Ç—å "–õ–∏–∫–≤–∏–¥–Ω—ã–π —Ä–µ–∑–µ—Ä–≤" –∫–∞–∫ —Ñ–æ–Ω–¥ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–æ–≤
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –¢—Ä–∞—Ç–∞ —Å –∫—Ä–µ–¥–∏—Ç–∫–∏

1. –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å—Ö–æ–¥ –Ω–∞ 5000‚ÇΩ —Å–æ —Å—á—ë—Ç–∞ "–ê–ª—å—Ñ–∞ –ö—Ä–µ–¥–∏—Ç–∫–∞"
2. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –£–º–µ–Ω—å—à–∞–µ—Ç –±–∞–ª–∞–Ω—Å –∫—Ä–µ–¥–∏—Ç–∫–∏ –Ω–∞ 5000‚ÇΩ (–¥–æ–ª–≥)
   - –°–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤ 5000‚ÇΩ –≤ "–õ–∏–∫–≤–∏–¥–Ω–æ–º —Ä–µ–∑–µ—Ä–≤–µ"
   - –£–º–µ–Ω—å—à–∞–µ—Ç –±–∞–ª–∞–Ω—Å —Ñ–æ–Ω–¥–∞ –Ω–∞ 5000‚ÇΩ

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–≥–∞—à–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–∫–∏

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–∏—Ç 5000‚ÇΩ —Å "–¢–∏–Ω—å–∫–æ—Ñ—Ñ" –Ω–∞ "–ê–ª—å—Ñ–∞ –ö—Ä–µ–¥–∏—Ç–∫–∞" (—á–µ—Ä–µ–∑ transfers)
2. –ó–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–∑–µ—Ä–≤–æ–≤ –∫—Ä–µ–¥–∏—Ç–∫–∏
3. –í—ã–±–∏—Ä–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤ –Ω–∞ 5000‚ÇΩ
4. –£–∫–∞–∑—ã–≤–∞–µ—Ç "–¢–∏–Ω—å–∫–æ—Ñ—Ñ" –∫–∞–∫ —Å—á—ë—Ç –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞
5. –ù–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–∏–º–µ–Ω–∏—Ç—å"
6. –°–∏—Å—Ç–µ–º–∞:
   - –°–ø–∏—Å—ã–≤–∞–µ—Ç 5000‚ÇΩ —Å Freedom Finance (linked_account —Ñ–æ–Ω–¥–∞)
   - –ó–∞—á–∏—Å–ª—è–µ—Ç 5000‚ÇΩ –Ω–∞ –¢–∏–Ω—å–∫–æ—Ñ—Ñ
   - –ü–æ–º–µ—á–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤ –∫–∞–∫ used

---

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ —É–∂–µ –µ—Å—Ç—å —Å—á–µ—Ç–∞ –∏ —Ñ–æ–Ω–¥—ã:
1. `isCredit` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `false` ‚Äî –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—á–µ—Ç–∞ –æ—Å—Ç–∞—é—Ç—Å—è –¥–µ–±–µ—Ç–æ–≤—ã–º–∏
2. `linkedFundId` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `null` ‚Äî –∫—Ä–µ–¥–∏—Ç–∫–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
3. `linkedAccountId` —É —Ñ–æ–Ω–¥–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `null` ‚Äî —Ñ–æ–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —É—á—ë—Ç–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–≤—è–∑–∏ —á–µ—Ä–µ–∑ UI.
